{"version":3,"sources":["core/Country.js","core/Store.js","core/CountryCollection.js","core/loadData.js","views/Dashboard/index.js","views/CountryList/index.js","views/Main/index.js","App.js","serviceWorker.js","index.js"],"names":["Country","code","name","this","recordSeries","population","mortalityRate","rs","i","length","date","Date","total","cases","deaths","getCases","getDeaths","lastRecordDate","todayAtNoon","setUTCHours","n","m","nDaysAgo","now","mDaysAfter","getTime","r","series","year","getUTCFullYear","month","getUTCMonth","day","getUTCDate","countryCollection","collection","c","toLowerCase","Object","values","sort","a","b","config","defaultCountryCode","fetch","countryByAbreviationRes","json","countryByAbreviation","countryPopulationRes","countryPopulation","countryPopulationMap","forEach","country","parseInt","mortalityRateRes","covid19Res","covid19","console","log","configRes","lastFile","countryName","countryAbbr","abbreviation","toUpperCase","setRecordSeries","addCountry","loadData","Dashboard","props","state","countryCode","getCountry","casesSeries","getCasesSeries","cumulatedCasesSeries","getCumulatedCasesSeries","deathsSeries","getDeathsSeries","cumulatedDeathsSeries","getCumulatedDeathsSeries","casesSeriesPerMillion","getCasesSeriesPerMillion","cumulatedCasesSeriesPerMillion","getCumulatedCasesSeriesPerMillion","deathsSeriesPerMillion","getDeathsSeriesPerMillion","cumulatedDeathsSeriesPerMillion","getCumulatedDeathsSeriesPerMillion","topMessage","dataAge","keys","className","getDataAge","dataRegularSeries","labels","datasets","label","data","fill","pointRadius","pointHitRadius","borderColor","lineTension","backgroundColor","dataCumulatedSeries","dataSeriesPerMillion","dataCumulatedSeriesPerMillion","logScale","scales","yAxes","type","nbDayFixer","Math","ceil","casesIntheLast3Days","getCasesStartingNDaysAgoDuringMDays","casesEvolution","src","title","deathsIntheLast3Days","getDeathsStartingNDaysAgoDuringMDays","deathsEvolution","crudeDeathsPerDay","getCrudeDeathsPerDay","crudeDeathsComp","style","textTransform","fontWeight","color","textDecoration","href","float","getCasesPerMillion","getDeathsPerMillion","options","height","React","Component","CountryList","countrySearch","fullCountryList","getAllCountries","countries","filter","includes","countryList","map","flagPath","key","to","placeholder","onChange","e","setState","target","value","Main","match","params","hasCountry","alert","ParamsExample","path","component","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","init"],"mappings":"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","file":"static/js/main.0ea47075.chunk.js","sourcesContent":["const MILLION = 1000000\n\nclass Country {\n\n  constructor(code, name){\n    this.code = code\n    this.name = name\n    this.recordSeries = []\n    this.population = null\n    this.mortalityRate = null\n  }\n\n\n  setRecordSeries(rs){\n    this.recordSeries = rs\n    // making actual date objects\n    for(let i=0; i<this.recordSeries.length; i++){\n      this.recordSeries[i].date = new Date(this.recordSeries[i].date)\n    }\n  }\n\n\n  getCases(){\n    let total = 0\n    for(let i=0; i<this.recordSeries.length; i++){\n      total += this.recordSeries[i].cases\n    }\n    return total\n  }\n\n\n  getDeaths(){\n    let total = 0\n    for(let i=0; i<this.recordSeries.length; i++){\n      total += this.recordSeries[i].deaths\n    }\n    return total\n  }\n\n\n  getCrudeDeathsPerDay(){\n    if(this.mortalityRate === null){\n      return null\n    }\n\n    return ~~(this.population * this.mortalityRate / 1000 / 365.25)\n  }\n\n  getCasesPerMillion(){\n    return this.getCases() / (this.population / MILLION)\n  }\n\n\n  getDeathsPerMillion(){\n    return this.getDeaths() / (this.population / MILLION)\n  }\n\n\n  // chec\n  // k if the last date available corresponds to the\n  getDataAge(){\n    let lastRecordDate = this.recordSeries[this.recordSeries.length - 1].date\n    let todayAtNoon = new Date()\n    todayAtNoon.setUTCHours(12, 0, 0, 0)\n    let deltaDays = (todayAtNoon - lastRecordDate) / (24 * 3600 * 1000)\n    return deltaDays\n  }\n\n\n\n  // n days ago start n days ago very early at the morning (1 sec after midnight)\n  // and n days after is also  very early at the morning (1 sec after midnight)\n  // example: \"today\" is n=0 m=1\n  //          \"yesterday\" is n=1 m=1\n  //          \"since yesterday morning\" is n=1 m=2\n  getCasesStartingNDaysAgoDuringMDays(n, m){\n    let nDaysAgo = new Date(Date.now() - n * 1000 * 3600 * 24)\n    // set it to UTC early morning (1 sec after midnight)\n    nDaysAgo.setUTCHours(0, 0, 1, 0)\n    let mDaysAfter = new Date(nDaysAgo.getTime() + m * 1000 * 3600 * 24)\n    // mDaysAfter.setUTCHours(23, 59, 59, 0)\n\n    let total = 0\n    for(let i=this.recordSeries.length - 1; i>=0; i--){\n      let r = this.recordSeries[i]\n      if(r.date > nDaysAgo && r.date < mDaysAfter){\n        total += r.cases\n      }\n    }\n    return total\n  }\n\n\n    // n days ago start n days ago very early at the morning (1 sec after midnight)\n    // and n days after is also  very early at the morning (1 sec after midnight)\n    getDeathsStartingNDaysAgoDuringMDays(n, m){\n      let nDaysAgo = new Date(Date.now() - n * 1000 * 3600 * 24)\n      // set it to UTC early morning (1 sec after midnight)\n      nDaysAgo.setUTCHours(0, 0, 1, 0)\n      let mDaysAfter = new Date(nDaysAgo.getTime() + m * 1000 * 3600 * 24)\n      // mDaysAfter.setUTCHours(23, 59, 59, 0)\n\n      let total = 0\n      for(let i=this.recordSeries.length - 1; i>=0; i--){\n        let r = this.recordSeries[i]\n        if(r.date > nDaysAgo && r.date < mDaysAfter){\n          total += r.deaths\n        }\n      }\n      return total\n    }\n\n    getCasesSeries(){\n      // key is date such as yyyy-mm-dd\n      let series = {}\n\n      for(let i=0; i<this.recordSeries.length; i++){\n        let r = this.recordSeries[i]\n        let year = r.date.getUTCFullYear()\n        let month = r.date.getUTCMonth() + 1\n        month = month < 10 ? `0${month}` : month\n        let day = r.date.getUTCDate()\n        day = day < 10 ? `0${day}` : day\n        let key = `${year}-${month}-${day}`\n        series[key] = r.cases\n      }\n      return series\n    }\n\n    getCasesSeriesPerMillion(){\n      // key is date such as yyyy-mm-dd\n      let series = {}\n\n      for(let i=0; i<this.recordSeries.length; i++){\n        let r = this.recordSeries[i]\n        let year = r.date.getUTCFullYear()\n        let month = r.date.getUTCMonth() + 1\n        month = month < 10 ? `0${month}` : month\n        let day = r.date.getUTCDate()\n        day = day < 10 ? `0${day}` : day\n        let key = `${year}-${month}-${day}`\n        series[key] = r.cases / (this.population / MILLION)\n      }\n      return series\n    }\n\n\n    getCumulatedCasesSeries(){\n      // key is date such as yyyy-mm-dd\n      let series = {}\n      let total = 0\n\n      for(let i=0; i<this.recordSeries.length; i++){\n        let r = this.recordSeries[i]\n        total += r.cases\n        let year = r.date.getUTCFullYear()\n        let month = r.date.getUTCMonth() + 1\n        month = month < 10 ? `0${month}` : month\n        let day = r.date.getUTCDate()\n        day = day < 10 ? `0${day}` : day\n        let key = `${year}-${month}-${day}`\n        series[key] = total\n      }\n      return series\n    }\n\n\n    getCumulatedCasesSeriesPerMillion(){\n      // key is date such as yyyy-mm-dd\n      let series = {}\n      let total = 0\n\n      for(let i=0; i<this.recordSeries.length; i++){\n        let r = this.recordSeries[i]\n        total += r.cases\n        let year = r.date.getUTCFullYear()\n        let month = r.date.getUTCMonth() + 1\n        month = month < 10 ? `0${month}` : month\n        let day = r.date.getUTCDate()\n        day = day < 10 ? `0${day}` : day\n        let key = `${year}-${month}-${day}`\n        series[key] = total / (this.population / MILLION)\n      }\n      return series\n    }\n\n\n    getDeathsSeries(){\n      // key is date such as yyyy-mm-dd\n      let series = {}\n\n      for(let i=0; i<this.recordSeries.length; i++){\n        let r = this.recordSeries[i]\n        let year = r.date.getUTCFullYear()\n        let month = r.date.getUTCMonth() + 1\n        month = month < 10 ? `0${month}` : month\n        let day = r.date.getUTCDate()\n        day = day < 10 ? `0${day}` : day\n        let key = `${year}-${month}-${day}`\n        series[key] = r.deaths\n      }\n      return series\n    }\n\n    getDeathsSeriesPerMillion(){\n      // key is date such as yyyy-mm-dd\n      let series = {}\n\n      for(let i=0; i<this.recordSeries.length; i++){\n        let r = this.recordSeries[i]\n        let year = r.date.getUTCFullYear()\n        let month = r.date.getUTCMonth() + 1\n        month = month < 10 ? `0${month}` : month\n        let day = r.date.getUTCDate()\n        day = day < 10 ? `0${day}` : day\n        let key = `${year}-${month}-${day}`\n        series[key] = r.deaths / (this.population / MILLION)\n      }\n      return series\n    }\n\n    getCumulatedDeathsSeries(){\n      // key is date such as yyyy-mm-dd\n      let series = {}\n      let total = 0\n\n      for(let i=0; i<this.recordSeries.length; i++){\n        let r = this.recordSeries[i]\n        total += r.deaths\n        let year = r.date.getUTCFullYear()\n        let month = r.date.getUTCMonth() + 1\n        month = month < 10 ? `0${month}` : month\n        let day = r.date.getUTCDate()\n        day = day < 10 ? `0${day}` : day\n        let key = `${year}-${month}-${day}`\n        series[key] = total\n      }\n      return series\n    }\n\n    getCumulatedDeathsSeriesPerMillion(){\n      // key is date such as yyyy-mm-dd\n      let series = {}\n      let total = 0\n\n      for(let i=0; i<this.recordSeries.length; i++){\n        let r = this.recordSeries[i]\n        total += r.deaths\n        let year = r.date.getUTCFullYear()\n        let month = r.date.getUTCMonth() + 1\n        month = month < 10 ? `0${month}` : month\n        let day = r.date.getUTCDate()\n        day = day < 10 ? `0${day}` : day\n        let key = `${year}-${month}-${day}`\n        series[key] = total / (this.population / MILLION)\n      }\n      return series\n    }\n\n\n\n\n  // TODO:\n  // - same but per million\n  // - getDeathsSeries and getCasesSeries CUMULATED\n\n\n}\n\nexport default Country\n","import CountryCollection from './CountryCollection'\n\nconst countryCollection = new CountryCollection()\nconst config = {\n  defaultCountryCode: 'world'\n}\n\nexport {\n  countryCollection,\n  config\n}\n","class CountryCollection {\n\n  constructor(){\n    this.collection = {}\n  }\n\n  addCountry(c){\n    this.collection[c.code] = c\n  }\n\n  getCountry(code){\n    if(code in this.collection){\n      return this.collection[code]\n    }else{\n      return null\n    }\n  }\n\n  hasCountry(code){\n    return (code.toLowerCase() in this.collection)\n  }\n\n  getAllCountries(){\n    let countries = Object.values(this.collection)\n    let sorted = countries.sort((a, b) => a.name < b.name ? -1 : 1)\n    return sorted\n  }\n}\n\n\nexport default CountryCollection\n","import Country from './Country'\nimport { countryCollection, config } from './Store'\n\nasync function fetchLocalCountryCode(){\n  try{\n    let geoRes = await fetch('http://www.geoplugin.net/json.gp')\n    let geo = await geoRes.json()\n    config.defaultCountryCode = geo.geoplugin_countryCode.toLowerCase()\n  }catch(e){\n    console.log(e)\n  }\n}\n\n\nasync function loadData(){\n  // await fetchLocalCountryCode()\n\n\n  // loading country names and abbreviations\n  let countryByAbreviationRes = await fetch('./data/country-by-abbreviation.json')\n  let countryByAbreviation = await countryByAbreviationRes.json()\n\n  // load population\n  let countryPopulationRes = await fetch('./data/country-by-population.json')\n  let countryPopulation = await countryPopulationRes.json()\n  let countryPopulationMap = {}\n  countryPopulation.forEach(c => {\n    countryPopulationMap[c.country.toLowerCase()] = parseInt(c.population) || null\n  })\n\n  // load mortality rates (1/1000)\n  let mortalityRateRes = await fetch('./data/mortality-rate-per-country-2017.json')\n  let mortalityRate = await mortalityRateRes.json()\n\n  // load covid-19 cases\n  let date = new Date()\n  let day = date.getUTCDate()\n  day = day < 10 ? `0${day}` : `${day}`\n  let month = date.getUTCMonth() + 1\n  month = month < 10 ? `0${month}` : `${month}`\n  let year = `${date.getUTCFullYear()}`\n  let covid19Res = null\n  let covid19 = null\n  try{\n    try{\n      covid19Res = await fetch(`./data/covid19-per-country-${day}-${month}-${year}.json`)\n      covid19 = await covid19Res.json()\n    }catch(e){\n      covid19Res = await fetch(`https://raw.githubusercontent.com/jonathanlurie/covid19dashboard/master/docs/data/covid19-per-country-${day}-${month}-${year}.json`)\n      covid19 = await covid19Res.json()\n    }\n\n  }catch(e){\n    console.log('Fallback on the last report available')\n    let configRes = await fetch('./data/config.json')\n    let config = await configRes.json()\n    try{\n      covid19Res = await fetch(`./data/${config.lastFile}`)\n      covid19 =  await covid19Res.json()\n    }catch(e){\n      covid19Res = await fetch(`https://raw.githubusercontent.com/jonathanlurie/covid19dashboard/master/docs/data/${config.lastFile}`)\n      covid19 =  await covid19Res.json()\n    }\n  }\n\n  console.log('covid19', covid19)\n\n  for(let c=0; c<countryByAbreviation.length; c++){\n    let countryName = countryByAbreviation[c].country.toLowerCase()\n    let countryAbbr = countryByAbreviation[c].abbreviation.toLowerCase()\n    let population = countryPopulationMap[countryName]\n\n    let country = new Country(countryAbbr, countryName)\n    country.population = population\n\n    if(countryAbbr.toUpperCase() in covid19){\n      country.setRecordSeries(covid19[countryAbbr.toUpperCase()])\n    }\n\n    if(countryAbbr.toLowerCase() in mortalityRate){\n      country.mortalityRate = mortalityRate[countryAbbr.toLowerCase()]\n    }\n\n    countryCollection.addCountry(country)\n  }\n\n  console.log('countryCollection', countryCollection)\n\n}\n\nexport default loadData\n","import React from \"react\"\nimport 'chart.js'\n// import { LineChart } from 'react-chartkick'\nimport { Line } from 'react-chartjs-2'\nimport './style.css'\n\nimport { countryCollection } from '../../core/Store'\n\n\nclass Dashboard extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {}\n\n  }\n\n\n  render(){\n    let countryCode = this.props.countryCode\n    let country = countryCollection.getCountry(countryCode)\n\n    console.log(country)\n\n\n    let casesSeries = country.getCasesSeries()\n    let cumulatedCasesSeries = country.getCumulatedCasesSeries()\n    let deathsSeries = country.getDeathsSeries()\n    let cumulatedDeathsSeries = country.getCumulatedDeathsSeries()\n\n    let casesSeriesPerMillion = country.getCasesSeriesPerMillion()\n    let cumulatedCasesSeriesPerMillion = country.getCumulatedCasesSeriesPerMillion()\n    let deathsSeriesPerMillion = country.getDeathsSeriesPerMillion()\n    let cumulatedDeathsSeriesPerMillion = country.getCumulatedDeathsSeriesPerMillion()\n\n    let numberOfRecords = Object.keys(casesSeries).length\n\n    let topMessage = null\n    let dataAge = 0\n    if(numberOfRecords === 0){\n      topMessage = (\n        <div className=\"warning-message\">\n          ⚠️ There is no record for this country\n        </div>\n      )\n    }else{\n      dataAge = country.getDataAge()\n      console.log('dataAge', dataAge)\n\n      if(dataAge < 0.5){\n        topMessage = (\n          <div className=\"info-message\">\n            ✅ These numbers are fresh from the day\n          </div>\n        )\n      }else if(dataAge >= 0.5 && dataAge <= 1){\n        topMessage = (\n          <div className=\"warning-message\">\n            ⚠️ These numbers are from yesterday, they may not reflect today's reality\n          </div>\n        )\n      }else{\n        topMessage = (\n          <div className=\"warning-message\">\n            ⚠️ These numbers are from {~~dataAge} days ago, they may not reflect todays reality\n          </div>\n        )\n      }\n    }\n\n    // example: https://github.com/jerairrest/react-chartjs-2/blob/master/example/src/components/line.js\n    let dataRegularSeries = {\n      labels: Object.keys(casesSeries),\n      datasets: [\n        {\n          label: 'COVID-19 cases',\n          data: Object.values(casesSeries),\n          fill: false,\n          pointRadius: 1.7,\n          pointHitRadius: 10,\n          borderColor: 'rgba(255, 200, 0, 1)',\n          lineTension: 0.2,\n          backgroundColor: 'rgba(255, 200, 0, 1)',\n        },\n        {\n          label: 'COVID-19 deaths',\n          data: Object.values(deathsSeries),\n          fill: false,\n          pointRadius: 1.7,\n          pointHitRadius: 10,\n          borderColor: 'rgba(200, 0, 0, 1)',\n          lineTension: 0.2,\n          backgroundColor: 'rgba(200, 0, 0, 1)',\n        }\n      ]\n    }\n\n\n\n    let dataCumulatedSeries = {\n      labels: Object.keys(casesSeries),\n      datasets: [\n        {\n          label: 'COVID-19 cumulated cases',\n          data: Object.values(cumulatedCasesSeries),\n          fill: false,\n          pointRadius: 1.7,\n          pointHitRadius: 10,\n          borderColor: 'rgba(255, 200, 0, 1)',\n          lineTension: 0.2,\n          backgroundColor: 'rgba(255, 200, 0, 1)',\n        },\n        {\n          label: 'COVID-19 deaths',\n          data: Object.values(cumulatedDeathsSeries),\n          fill: false,\n          pointRadius: 1.7,\n          pointHitRadius: 10,\n          borderColor: 'rgba(200, 0, 0, 1)',\n          lineTension: 0.2,\n          backgroundColor: 'rgba(200, 0, 0, 1)',\n        }\n      ]\n    }\n\n\n    let dataSeriesPerMillion = {\n      labels: Object.keys(casesSeries),\n      datasets: [\n        {\n          label: 'COVID-19 cases per million',\n          data: Object.values(casesSeriesPerMillion),\n          fill: false,\n          pointRadius: 1.7,\n          pointHitRadius: 10,\n          borderColor: 'rgba(255, 200, 0, 1)',\n          lineTension: 0.2,\n          backgroundColor: 'rgba(255, 200, 0, 1)',\n        },\n        {\n          label: 'COVID-19 deaths per million',\n          data: Object.values(deathsSeriesPerMillion),\n          fill: false,\n          pointRadius: 1.7,\n          pointHitRadius: 10,\n          borderColor: 'rgba(200, 0, 0, 1)',\n          lineTension: 0.2,\n          backgroundColor: 'rgba(200, 0, 0, 1)',\n        }\n      ]\n    }\n\n\n    let dataCumulatedSeriesPerMillion = {\n      labels: Object.keys(casesSeries),\n      datasets: [\n        {\n          label: 'COVID-19 cumulated cases',\n          data: Object.values(cumulatedCasesSeriesPerMillion),\n          fill: false,\n          pointRadius: 1.7,\n          pointHitRadius: 10,\n          borderColor: 'rgba(255, 200, 0, 1)',\n          lineTension: 0.2,\n          backgroundColor: 'rgba(255, 200, 0, 1)',\n        },\n        {\n          label: 'COVID-19 deaths',\n          data: Object.values(cumulatedDeathsSeriesPerMillion),\n          fill: false,\n          pointRadius: 1.7,\n          pointHitRadius: 10,\n          borderColor: 'rgba(200, 0, 0, 1)',\n          lineTension: 0.2,\n          backgroundColor: 'rgba(200, 0, 0, 1)',\n        }\n      ]\n    }\n\n\n    let logScale = {\n      scales: {\n        yAxes: [{\n          type: 'logarithmic',\n        }]\n      }\n    }\n\n\n    let nbDayFixer = dataAge < 0.5 ? 0 : Math.ceil(dataAge)\n    let casesIntheLast3Days = country.getCasesStartingNDaysAgoDuringMDays(2+nbDayFixer, 3)\n    let casesInthe3DaysBefore = country.getCasesStartingNDaysAgoDuringMDays(5+nbDayFixer, 3)\n    let casesEvolution = casesIntheLast3Days > casesInthe3DaysBefore ?\n      <img className=\"evolution-arrow\" src=\"images/arrow-red-up.png\" title=\"Higher than the 3 previous days\"/> :\n      <img className=\"evolution-arrow\" src=\"images/arrow-green-down.png\" title=\"Lower than the previous 3 days\"/>\n\n    let deathsIntheLast3Days = country.getDeathsStartingNDaysAgoDuringMDays(2+nbDayFixer, 3)\n    let deathsInthe3DaysBefore = country.getDeathsStartingNDaysAgoDuringMDays(5+nbDayFixer, 3)\n    let deathsEvolution = deathsIntheLast3Days > deathsInthe3DaysBefore ?\n      <img className=\"evolution-arrow\" src=\"images/arrow-red-up.png\" title=\"Higher than the 3 previous days\"/> :\n      <img className=\"evolution-arrow\" src=\"images/arrow-green-down.png\" title=\"Lower than the previous 3 days\"/>\n\n\n    let crudeDeathsPerDay = country.getCrudeDeathsPerDay()\n\n    let crudeDeathsComp = null\n    if(crudeDeathsPerDay){\n      crudeDeathsComp = (\n        <div className=\"crude-deaths-info\">\n          ℹ️ For comparison, in 2017, <span style={{textTransform: 'capitalize', fontWeight: 800}}>{country.name}</span> was counting an average of <span style={{fontWeight: 800}}>{crudeDeathsPerDay}</span> deaths per day <a style={{color: \"#67abf3\", textDecoration: 'none'}} href=\"https://www.cia.gov/library/publications/the-world-factbook/rankorder/2066rank.html\">[source]</a>\n        </div>\n      )\n    }\n\n\n    return (\n      <div className=\"dashboard\">\n\n        <div className=\"country-name\">\n          <img className=\"flag\" src={`images/flags/${countryCode}.svg`}/>\n          <h1>{country.name}</h1>\n        </div>\n\n\n\n        {topMessage}\n\n\n\n        <div className=\"info-grid\">\n\n          <div className=\"cell\">\n            <div className=\"cell-inner\" style={{float: 'right'}}>\n              <p>\n                <span className=\"cell-title\" style={{color: '#ffc800'}}># cases</span>\n              </p>\n\n              <p className=\"cell-section\">\n                <span className=\"cell-subtitle\">(all time)</span><br/>\n                <span className=\"cell-score\">{country.getCases()}</span>\n              </p>\n\n              <p className=\"cell-section\">\n                <span className=\"cell-subtitle\">(all time per million)</span><br/>\n                <span className=\"cell-score\">{~~(country.getCasesPerMillion() * 100) / 100}</span>\n              </p>\n\n              <p className=\"cell-section\">\n                <span className=\"cell-subtitle\">(in the last day)</span><br/>\n                <span className=\"cell-score\">{country.getCasesStartingNDaysAgoDuringMDays(nbDayFixer, 1)}</span>\n              </p>\n\n              <p className=\"cell-section\">\n                <span className=\"cell-subtitle\">(in the last 3 days)</span><br/>\n                <span className=\"cell-score\">{casesIntheLast3Days}</span>{casesEvolution}\n              </p>\n\n            </div>\n          </div>\n\n          <div className=\"cell\">\n            <div className=\"cell-inner\" style={{float: 'left'}}>\n              <p>\n                <span className=\"cell-title\" style={{color: '#c80000'}}># deaths</span>\n              </p>\n              <p className=\"cell-section\">\n                <span className=\"cell-subtitle\">(all time)</span><br/>\n                <span className=\"cell-score\">{country.getDeaths()}</span>\n              </p>\n\n              <p className=\"cell-section\">\n                <span className=\"cell-subtitle\">(all time per million)</span><br/>\n                <span className=\"cell-score\">{~~(country.getDeathsPerMillion() * 100) / 100}</span>\n              </p>\n\n              <p className=\"cell-section\">\n                <span className=\"cell-subtitle\">(in the last day)</span><br/>\n                <span className=\"cell-score\">{country.getDeathsStartingNDaysAgoDuringMDays(nbDayFixer, 1)}</span>\n              </p>\n\n              <p className=\"cell-section\">\n                <span className=\"cell-subtitle\">(in the last 3 days)</span><br/>\n                <span className=\"cell-score\">{deathsIntheLast3Days}</span>{deathsEvolution}\n              </p>\n            </div>\n          </div>\n\n\n        </div>\n\n        {crudeDeathsComp}\n\n        <div className=\"plot-title\">COVID-19 cases and deaths over time (linear scale)</div>\n        <Line data={dataRegularSeries} options={{}} height={100}/>\n\n        <div className=\"plot-title\">COVID-19 cumulated cases and deaths over time (logarithmic scale)</div>\n        <Line data={dataCumulatedSeries} options={logScale} height={100}/>\n\n        <div className=\"plot-title\">COVID-19 cases and deaths over time per million population (linear scale)</div>\n        <Line data={dataSeriesPerMillion} options={{}} height={100}/>\n\n        <div className=\"plot-title\">COVID-19 cumulated cases and deaths over time per milion population (logarithmic scale)</div>\n        <Line data={dataCumulatedSeriesPerMillion} options={logScale} height={100}/>\n\n        <div className=\"credits\">\n        <p>\n          Data from the <a href=\"https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide\">European Centre for Disease Prevention and Control</a>\n        </p>\n          <p>\n          — Made by <a href=\"https://twitter.com/jonathanlurie\">@jonathanlurie</a> :: <a href=\"https://github.com/jonathanlurie/covid19dashboard\">fork me on GitHub</a> —\n          </p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Dashboard\n","import React from 'react'\nimport {\n  Link\n} from \"react-router-dom\";\nimport { countryCollection } from '../../core/Store'\nimport './style.css'\n\nclass CountryList extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      countrySearch: ''\n    }\n\n    this.fullCountryList = countryCollection.getAllCountries()\n  }\n\n  render(){\n\n    let countries = this.fullCountryList\n\n    if(this.state.countrySearch !== ''){\n      countries = countries.filter(c => {\n        return c.name.includes(this.state.countrySearch)\n      })\n    }\n\n    let countryList = countries.map(c => {\n      let flagPath = `images/flags/${c.code}.svg`\n      return (\n        <li key={c.code}>\n        <img className=\"flag\" src={flagPath}/>\n        <span className=\"country-name\"><Link to={c.code}>{c.name}</Link></span>\n\n        </li>\n      )\n    })\n\n    return (\n      <div className=\"country-list\">\n        <div className=\"title\">\n          COVID-19<br/>\n          dashboard\n        </div>\n        <div className=\"container\">\n          <input className=\"searchbar\" placeholder=\"Type a country...\" onChange={(e) => {this.setState({countrySearch: e.target.value})}}/>\n          <ul>\n            {countryList}\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default CountryList\n","import React from \"react\"\nimport {\n  Redirect\n} from \"react-router-dom\"\nimport { countryCollection, config } from '../../core/Store'\nimport Dashboard from '../Dashboard'\nimport CountryList from '../CountryList'\nimport './style.css'\n\nclass Main extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {}\n  }\n\n  render(){\n    // let { countryCode } = useParams()\n    let countryCode = this.props.match.params.countryCode\n\n    if(!countryCode){\n      return <Redirect to={config.defaultCountryCode} />\n    }\n\n    let hasCountry = countryCollection.hasCountry(countryCode)\n\n    if(!hasCountry){\n      alert('There is no data for this country.')\n    }\n\n\n    return (\n      <div className=\"main\">\n        <CountryList />\n        <Dashboard countryCode={countryCode}/>\n      </div>\n    )\n  }\n}\n\nexport default Main\n","import React from \"react\";\nimport {\n  HashRouter,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport Main from './views/Main'\n\nexport default function ParamsExample() {\n  return (\n    <HashRouter>\n        <Switch>\n          <Route path=\"/:countryCode\" component={Main} />\n          <Route path=\"/\" component={Main} />\n        </Switch>\n    </HashRouter>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport loadData from './core/loadData'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\n\nasync function init(){\n  // first; lets fetch data\n  console.log('loading data...');\n  await loadData()\n  console.log('done loading data')\n\n  ReactDOM.render(<App />, document.getElementById('root'))\n\n  // If you want your app to work offline and load faster, you can change\n  // unregister() to register() below. Note this comes with some pitfalls.\n  // Learn more about service workers: https://bit.ly/CRA-PWA\n  // serviceWorker.unregister()\n}\n\ninit()\n"],"sourceRoot":""}