(this.webpackJsonpcovid19dasboard=this.webpackJsonpcovid19dasboard||[]).push([[0],{166:function(e,a,t){},167:function(e,a,t){},168:function(e,a,t){},171:function(e,a,t){},172:function(e,a,t){"use strict";t.r(a);var r=t(16),n=t.n(r),s=t(23),l=t(0),o=t.n(l),c=t(60),i=t.n(c),u=t(5),d=t(6),m=function(){function e(a,t){Object(u.a)(this,e),this.code=a,this.name=t,this.recordSeries=[],this.population=null,this.mortalityRate=null,this.color="#"+Math.floor(16777215*Math.random()).toString(16),this.rawCasesSeries=[],this.rawDeathsSeries=[],this.rawDateSeries=[]}return Object(d.a)(e,[{key:"hasRecord",value:function(){return this.recordSeries.length>0}},{key:"setRecordSeries",value:function(e){this.recordSeries=e;for(var a=0;a<this.recordSeries.length;a++)this.recordSeries[a].date=new Date(this.recordSeries[a].date),this.rawCasesSeries.push(this.recordSeries[a].deaths),this.rawDeathsSeries.push(this.recordSeries[a].cases),this.rawDateSeries.push(this.recordSeries[a].date)}},{key:"getCases",value:function(){for(var e=0,a=0;a<this.recordSeries.length;a++)e+=this.recordSeries[a].cases;return e}},{key:"getDeaths",value:function(){for(var e=0,a=0;a<this.recordSeries.length;a++)e+=this.recordSeries[a].deaths;return e}},{key:"getCasesLastDayRaise",value:function(){for(var e=0,a=0;a<this.recordSeries.length-1;a++)e+=this.recordSeries[a].cases;return~~(this.recordSeries[this.recordSeries.length-1].cases/e*1e3)/10}},{key:"getDeathsLastDayRaise",value:function(){for(var e=0,a=0;a<this.recordSeries.length-1;a++)e+=this.recordSeries[a].deaths;return~~(this.recordSeries[this.recordSeries.length-1].deaths/e*1e3)/10}},{key:"getCrudeDeathsPerDay",value:function(){return null===this.mortalityRate?null:~~(this.population*this.mortalityRate/1e3/365.25)}},{key:"getCasesPerMillion",value:function(){return this.getCases()/(this.population/1e6)}},{key:"getDeathsPerMillion",value:function(){return this.getDeaths()/(this.population/1e6)}},{key:"getDataAge",value:function(){var e=this.recordSeries[this.recordSeries.length-1].date,a=new Date;return a.setUTCHours(12,0,0,0),(a-e)/864e5}},{key:"getCasesStartingNDaysAgoDuringMDays",value:function(e,a){var t=new Date(Date.now()-1e3*e*3600*24);t.setUTCHours(0,0,1,0);for(var r=new Date(t.getTime()+1e3*a*3600*24),n=0,s=this.recordSeries.length-1;s>=0;s--){var l=this.recordSeries[s];l.date>t&&l.date<r&&(n+=l.cases)}return n}},{key:"getDeathsStartingNDaysAgoDuringMDays",value:function(e,a){var t=new Date(Date.now()-1e3*e*3600*24);t.setUTCHours(0,0,1,0);for(var r=new Date(t.getTime()+1e3*a*3600*24),n=0,s=this.recordSeries.length-1;s>=0;s--){var l=this.recordSeries[s];l.date>t&&l.date<r&&(n+=l.deaths)}return n}},{key:"getCasesSeries",value:function(){for(var e={},a=0;a<this.recordSeries.length;a++){var t=this.recordSeries[a],r=t.date.getUTCFullYear(),n=t.date.getUTCMonth()+1;n=n<10?"0".concat(n):n;var s=t.date.getUTCDate();s=s<10?"0".concat(s):s,e["".concat(r,"-").concat(n,"-").concat(s)]=t.cases}return e}},{key:"getCasesSeriesPerMillion",value:function(){for(var e={},a=0;a<this.recordSeries.length;a++){var t=this.recordSeries[a],r=t.date.getUTCFullYear(),n=t.date.getUTCMonth()+1;n=n<10?"0".concat(n):n;var s=t.date.getUTCDate();s=s<10?"0".concat(s):s,e["".concat(r,"-").concat(n,"-").concat(s)]=t.cases/(this.population/1e6)}return e}},{key:"getCumulatedCasesSeries",value:function(){for(var e={},a=0,t=0;t<this.recordSeries.length;t++){var r=this.recordSeries[t];a+=r.cases;var n=r.date.getUTCFullYear(),s=r.date.getUTCMonth()+1;s=s<10?"0".concat(s):s;var l=r.date.getUTCDate();l=l<10?"0".concat(l):l,e["".concat(n,"-").concat(s,"-").concat(l)]=a}return e}},{key:"getCumulatedCasesSeriesPerMillion",value:function(){for(var e={},a=0,t=0;t<this.recordSeries.length;t++){var r=this.recordSeries[t];a+=r.cases;var n=r.date.getUTCFullYear(),s=r.date.getUTCMonth()+1;s=s<10?"0".concat(s):s;var l=r.date.getUTCDate();l=l<10?"0".concat(l):l,e["".concat(n,"-").concat(s,"-").concat(l)]=a/(this.population/1e6)}return e}},{key:"getDeathsSeries",value:function(){for(var e={},a=0;a<this.recordSeries.length;a++){var t=this.recordSeries[a],r=t.date.getUTCFullYear(),n=t.date.getUTCMonth()+1;n=n<10?"0".concat(n):n;var s=t.date.getUTCDate();s=s<10?"0".concat(s):s,e["".concat(r,"-").concat(n,"-").concat(s)]=t.deaths}return e}},{key:"getDeathsSeriesPerMillion",value:function(){for(var e={},a=0;a<this.recordSeries.length;a++){var t=this.recordSeries[a],r=t.date.getUTCFullYear(),n=t.date.getUTCMonth()+1;n=n<10?"0".concat(n):n;var s=t.date.getUTCDate();s=s<10?"0".concat(s):s,e["".concat(r,"-").concat(n,"-").concat(s)]=t.deaths/(this.population/1e6)}return e}},{key:"getCumulatedDeathsSeries",value:function(){for(var e={},a=0,t=0;t<this.recordSeries.length;t++){var r=this.recordSeries[t];a+=r.deaths;var n=r.date.getUTCFullYear(),s=r.date.getUTCMonth()+1;s=s<10?"0".concat(s):s;var l=r.date.getUTCDate();l=l<10?"0".concat(l):l,e["".concat(n,"-").concat(s,"-").concat(l)]=a}return e}},{key:"getCumulatedDeathsSeriesPerMillion",value:function(){for(var e={},a=0,t=0;t<this.recordSeries.length;t++){var r=this.recordSeries[t];a+=r.deaths;var n=r.date.getUTCFullYear(),s=r.date.getUTCMonth()+1;s=s<10?"0".concat(s):s;var l=r.date.getUTCDate();l=l<10?"0".concat(l):l,e["".concat(n,"-").concat(s,"-").concat(l)]=a/(this.population/1e6)}return e}}]),e}(),g=t(64),h=new(function(){function e(){Object(u.a)(this,e),this.collection={}}return Object(d.a)(e,[{key:"addCountry",value:function(e){this.collection[e.code]=e}},{key:"getCountry",value:function(e){return e in this.collection?this.collection[e]:null}},{key:"hasCountry",value:function(e){return e.toLowerCase()in this.collection}},{key:"getAllCountries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Object.values(this.collection);return a=a.filter((function(e){return"world"!==e.code})),e||(a=a.filter((function(e){return e.hasRecord()}))),a=a.sort((function(e,a){return e.name<a.name?-1:1}))}},{key:"getCountryNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.getAllCountries(e).map((function(e){return e.name}));return a}},{key:"getCountryColors",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.getAllCountries(e).map((function(e){return e.color}));return a}},{key:"getCountryCases",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.getAllCountries(e).map((function(e){return e.getCases()}));return a}},{key:"getCountryDeaths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.getAllCountries(e).map((function(e){return e.getDeaths()}));return a}},{key:"getCountryCasesPerMillion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.getAllCountries(e).map((function(e){return e.getCasesPerMillion()}));return a}},{key:"getCountryDeathsPerMillion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.getAllCountries(e).map((function(e){return e.getDeathsPerMillion()}));return a}},{key:"getCountryCasesStartingNDaysAgoDuringMDays",value:function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getAllCountries(t).map((function(t){return t.getCasesStartingNDaysAgoDuringMDays(e,a)}));return r}},{key:"getCountryDeathsStartingNDaysAgoDuringMDays",value:function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getAllCountries(t).map((function(t){return t.getDeathsStartingNDaysAgoDuringMDays(e,a)}));return r}},{key:"getCountrySortedBy",value:function(e){var a="asc"===("order"in e?e.order:"asc")?1:-1,t="propToExtract"in e?e.propToExtract:"name",r="propToSortOn"in e?e.propToSortOn:null,n="args"in e?e.args:[],s="includeNoRecord"in e&&e.includeNoRecord,l=Object.values(this.collection);return l=l.filter((function(e){return"world"!==e.code})),s||(l=l.filter((function(e){return e.hasRecord()}))),l=l.map((function(e){var a={country:e,propertyName:t,value:null};return t in e&&("function"===typeof e[t]?a.value=e[t].apply(e,Object(g.a)(n)):a.value=e[t]),a})),l=null===r?l.sort((function(e,t){return e.value<t.value?-1*a:1*a})):l.sort((function(e,r){return e.country[t]<r.country[t]?-1*a:1*a}))}}]),e}()),p={defaultCountryCode:"world"};function b(){return(b=Object(s.a)(n.a.mark((function e(){var a,t,r,s,l,o,c,i,u,d,g,p,b,y,v,f,C,E,D,N;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./data/country-by-abbreviation.json");case 2:return a=e.sent,e.next=5,a.json();case 5:return t=e.sent,e.next=8,fetch("./data/country-by-population.json");case 8:return r=e.sent,e.next=11,r.json();case 11:return s=e.sent,l={},s.forEach((function(e){l[e.country.toLowerCase()]=parseInt(e.population)||null})),e.next=16,fetch("./data/mortality-rate-per-country-2017.json");case 16:return o=e.sent,e.next=19,o.json();case 19:return c=e.sent,i=new Date,u=(u=i.getUTCDate())<10?"0".concat(u):"".concat(u),d=(d=i.getUTCMonth()+1)<10?"0".concat(d):"".concat(d),g="".concat(i.getUTCFullYear()),p=null,b=null,e.prev=28,e.prev=29,e.next=32,fetch("./data/covid19-per-country-".concat(u,"-").concat(d,"-").concat(g,".json"));case 32:return p=e.sent,e.next=35,p.json();case 35:b=e.sent,e.next=46;break;case 38:return e.prev=38,e.t0=e.catch(29),e.next=42,fetch("https://raw.githubusercontent.com/jonathanlurie/covid19dashboard/master/docs/data/covid19-per-country-".concat(u,"-").concat(d,"-").concat(g,".json"));case 42:return p=e.sent,e.next=45,p.json();case 45:b=e.sent;case 46:e.next=74;break;case 48:return e.prev=48,e.t1=e.catch(28),console.log("Fallback on the last report available"),e.next=53,fetch("./data/config.json");case 53:return y=e.sent,e.next=56,y.json();case 56:return v=e.sent,e.prev=57,e.next=60,fetch("./data/".concat(v.lastFile));case 60:return p=e.sent,e.next=63,p.json();case 63:b=e.sent,e.next=74;break;case 66:return e.prev=66,e.t2=e.catch(57),e.next=70,fetch("https://raw.githubusercontent.com/jonathanlurie/covid19dashboard/master/docs/data/".concat(v.lastFile));case 70:return p=e.sent,e.next=73,p.json();case 73:b=e.sent;case 74:for(f=0;f<t.length;f++)C=t[f].country.toLowerCase(),E=t[f].abbreviation.toLowerCase(),D=l[C],(N=new m(E,C)).population=D,E.toUpperCase()in b&&N.setRecordSeries(b[E.toUpperCase()]),E.toLowerCase()in c&&(N.mortalityRate=c[E.toLowerCase()]),h.addCountry(N);case 75:case"end":return e.stop()}}),e,null,[[28,48],[29,38],[57,66]])})))).apply(this,arguments)}var y=function(){return b.apply(this,arguments)},v=(t(71),t(19)),f=t(15),C=t(13),E=t(11),D=t(14),N=(t(12),t(3)),S=(t(166),function(e){function a(e){var t;return Object(u.a)(this,a),(t=Object(C.a)(this,Object(E.a)(a).call(this,e))).state={},t}return Object(D.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props.countryCode,a=h.getCountry(e);console.log(a);var t=a.getCasesSeries(),r=a.getCumulatedCasesSeries(),n=a.getDeathsSeries(),s=a.getCumulatedDeathsSeries(),l=a.getCasesSeriesPerMillion(),c=a.getCumulatedCasesSeriesPerMillion(),i=a.getDeathsSeriesPerMillion(),u=a.getCumulatedDeathsSeriesPerMillion(),d=null,m=0;0===Object.keys(t).length?d=o.a.createElement("div",{className:"warning-message"},"\u26a0\ufe0f There is no record for this country"):(m=a.getDataAge(),console.log("dataAge",m),d=m<.5?o.a.createElement("div",{className:"info-message"},"\u2705 These numbers are fresh from the day"):m>=.5&&m<=1?o.a.createElement("div",{className:"warning-message"},"\u26a0\ufe0f These numbers are from yesterday, they may not reflect today's reality"):o.a.createElement("div",{className:"warning-message"},"\u26a0\ufe0f These numbers are from ",~~m," days ago, they may not reflect todays reality"));var g={labels:Object.keys(t),datasets:[{label:"COVID-19 cases",data:Object.values(t),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(255, 200, 0, 1)",lineTension:.2,backgroundColor:"rgba(255, 200, 0, 1)"},{label:"COVID-19 deaths",data:Object.values(n),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(200, 0, 0, 1)",lineTension:.2,backgroundColor:"rgba(200, 0, 0, 1)"}]},p={labels:Object.keys(t),datasets:[{label:"COVID-19 cumulated cases",data:Object.values(r),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(255, 200, 0, 1)",lineTension:.2,backgroundColor:"rgba(255, 200, 0, 1)"},{label:"COVID-19 deaths",data:Object.values(s),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(200, 0, 0, 1)",lineTension:.2,backgroundColor:"rgba(200, 0, 0, 1)"}]},b={labels:Object.keys(t),datasets:[{label:"COVID-19 cases per million",data:Object.values(l),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(255, 200, 0, 1)",lineTension:.2,backgroundColor:"rgba(255, 200, 0, 1)"},{label:"COVID-19 deaths per million",data:Object.values(i),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(200, 0, 0, 1)",lineTension:.2,backgroundColor:"rgba(200, 0, 0, 1)"}]},y={labels:Object.keys(t),datasets:[{label:"COVID-19 cumulated cases",data:Object.values(c),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(255, 200, 0, 1)",lineTension:.2,backgroundColor:"rgba(255, 200, 0, 1)"},{label:"COVID-19 deaths",data:Object.values(u),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(200, 0, 0, 1)",lineTension:.2,backgroundColor:"rgba(200, 0, 0, 1)"}]},v={scales:{yAxes:[{type:"logarithmic"}]}},f=m<.5?0:Math.ceil(m),C=a.getCasesStartingNDaysAgoDuringMDays(2+f,3),E=C>a.getCasesStartingNDaysAgoDuringMDays(5+f,3)?o.a.createElement("img",{className:"evolution-arrow",src:"images/arrow-red-up.png",title:"Higher than the 3 previous days"}):o.a.createElement("img",{className:"evolution-arrow",src:"images/arrow-green-down.png",title:"Lower than the previous 3 days"}),D=a.getDeathsStartingNDaysAgoDuringMDays(2+f,3),S=a.getDeathsStartingNDaysAgoDuringMDays(5+f,3),w=D>S?o.a.createElement("img",{className:"evolution-arrow",src:"images/arrow-red-up.png",title:"Higher than the 3 previous days"}):o.a.createElement("img",{className:"evolution-arrow",src:"images/arrow-green-down.png",title:"Lower than the previous 3 days"});console.log("deathsIntheLast3Days",D),console.log("deathsInthe3DaysBefore",S);var k=a.getCrudeDeathsPerDay(),O=null;k&&(O=o.a.createElement("div",{className:"crude-deaths-info"},"\u2139\ufe0f For comparison, in 2017, ",o.a.createElement("span",{style:{textTransform:"capitalize",fontWeight:800}},a.name)," was counting an average of ",o.a.createElement("span",{style:{fontWeight:800}},k)," deaths per day ",o.a.createElement("a",{style:{color:"#67abf3",textDecoration:"none"},href:"https://www.cia.gov/library/publications/the-world-factbook/rankorder/2066rank.html"},"[source]")));var j=h.getCountry("world"),T=a.getCasesStartingNDaysAgoDuringMDays(f,1),M=a.getDeathsStartingNDaysAgoDuringMDays(f,1),R=j.getCasesStartingNDaysAgoDuringMDays(f,1),A=j.getDeathsStartingNDaysAgoDuringMDays(f,1),x={labels:[a.name,"World"],datasets:[{data:[~~(T/R*1e3)/1e3,1-~~(T/R*1e3)/1e3],backgroundColor:["#ffc800","#f0f0f0"],hoverBackgroundColor:["#edba00","#dbdbdb"],borderWidth:0}]},U={labels:[a.name,"World"],datasets:[{data:[~~(M/A*1e3)/1e3,1-~~(M/A*1e3)/1e3],backgroundColor:["#c80000","#f0f0f0"],hoverBackgroundColor:["#a30202","#f0f0f0"],borderWidth:0}]};return o.a.createElement("div",{className:"dashboard"},o.a.createElement("div",{className:"country-name"},o.a.createElement("img",{className:"flag",src:"images/flags/".concat(e,".svg")}),o.a.createElement("h1",null,a.name)),d,o.a.createElement("div",{className:"info-grid"},o.a.createElement("div",{className:"cell"},o.a.createElement("div",{className:"cell-inner",style:{float:"right"}},o.a.createElement("p",null,o.a.createElement("span",{className:"cell-title",style:{color:"#ffc800"}},"# cases")),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"all time"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},a.getCases()),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-raise"},"+",a.getCasesLastDayRaise(),"% in the last day")),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"all time per million"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},~~(100*a.getCasesPerMillion())/100)),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"in the last day"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},T)),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"in the last 3 days"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},C),E),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"world proportion in last day"),o.a.createElement("br",null),o.a.createElement(N.b,{data:x})))),o.a.createElement("div",{className:"cell"},o.a.createElement("div",{className:"cell-inner",style:{float:"left"}},o.a.createElement("p",null,o.a.createElement("span",{className:"cell-title",style:{color:"#c80000"}},"# deaths")),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"all time"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},a.getDeaths()),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-raise"},"+",a.getDeathsLastDayRaise(),"% in the last day")),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"all time per million"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},~~(100*a.getDeathsPerMillion())/100)),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"in the last day"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},M)),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"in the last 3 days"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},D),w),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"world proportion in last day"),o.a.createElement("br",null),o.a.createElement(N.b,{data:U}))))),O,o.a.createElement("div",{className:"plot-title"},"COVID-19 cases and deaths over time (linear scale)"),o.a.createElement(N.a,{data:g,options:{},height:100}),o.a.createElement("div",{className:"plot-title"},"COVID-19 cumulated cases and deaths over time (logarithmic scale)"),o.a.createElement(N.a,{data:p,options:v,height:100}),o.a.createElement("div",{className:"plot-title"},"COVID-19 cases and deaths over time per million population (linear scale)"),o.a.createElement(N.a,{data:b,options:{},height:100}),o.a.createElement("div",{className:"plot-title"},"COVID-19 cumulated cases and deaths over time per milion population (logarithmic scale)"),o.a.createElement(N.a,{data:y,options:v,height:100}),o.a.createElement("div",{className:"credits"},o.a.createElement("p",null,"Data from the ",o.a.createElement("a",{href:"https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide"},"European Centre for Disease Prevention and Control")),o.a.createElement("p",null,"\u2014 Made by ",o.a.createElement("a",{href:"https://twitter.com/jonathanlurie"},"@jonathanlurie")," :: ",o.a.createElement("a",{href:"https://github.com/jonathanlurie/covid19dashboard"},"fork me on GitHub")," \u2014")))}}]),a}(o.a.Component));t(167);var w=function(e){function a(e){var t;return Object(u.a)(this,a),(t=Object(C.a)(this,Object(E.a)(a).call(this,e))).state={},t}return Object(D.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=h.getCountry("world"),a=e.getDataAge(),t=a<.5?0:Math.ceil(a),r=e.getCasesSeries(),n=e.getCumulatedCasesSeries(),s=e.getDeathsSeries(),l=e.getCumulatedDeathsSeries(),c=e.getCasesSeriesPerMillion(),i=e.getCumulatedCasesSeriesPerMillion(),u=e.getDeathsSeriesPerMillion(),d=e.getCumulatedDeathsSeriesPerMillion(),m=h.getCountrySortedBy({propToExtract:"getCases"}),g=h.getCountrySortedBy({propToExtract:"getCasesStartingNDaysAgoDuringMDays",args:[2+t,3]}),p=h.getCountrySortedBy({propToExtract:"getDeaths"}),b=h.getCountrySortedBy({propToExtract:"getDeathsStartingNDaysAgoDuringMDays",args:[2+t,3]}),y={legend:{display:!1}},v={labels:m.map((function(e){return e.country.name})),datasets:[{data:m.map((function(e){return e.value})),backgroundColor:m.map((function(e){return e.country.color})),borderWidth:0}]},f={labels:g.map((function(e){return e.country.name})),datasets:[{data:g.map((function(e){return e.value})),backgroundColor:g.map((function(e){return e.country.color})),borderWidth:0}]},C={labels:p.map((function(e){return e.country.name})),datasets:[{data:p.map((function(e){return e.value})),backgroundColor:p.map((function(e){return e.country.color})),borderWidth:0}]},E={labels:b.map((function(e){return e.country.name})),datasets:[{data:b.map((function(e){return e.value})),backgroundColor:b.map((function(e){return e.country.color})),borderWidth:0}]},D=(Object.keys(r).length,null);D=a<.5?o.a.createElement("div",{className:"info-message"},"\u2705 These numbers are fresh from the day"):a>=.5&&a<=1?o.a.createElement("div",{className:"warning-message"},"\u26a0\ufe0f These numbers are from yesterday, they may not reflect today's reality"):o.a.createElement("div",{className:"warning-message"},"\u26a0\ufe0f These numbers are from ",~~a," days ago, they may not reflect todays reality");var S={labels:Object.keys(r),datasets:[{label:"COVID-19 cases",data:Object.values(r),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(255, 200, 0, 1)",lineTension:.2,backgroundColor:"rgba(255, 200, 0, 1)"},{label:"COVID-19 deaths",data:Object.values(s),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(200, 0, 0, 1)",lineTension:.2,backgroundColor:"rgba(200, 0, 0, 1)"}]},w={labels:Object.keys(r),datasets:[{label:"COVID-19 cumulated cases",data:Object.values(n),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(255, 200, 0, 1)",lineTension:.2,backgroundColor:"rgba(255, 200, 0, 1)"},{label:"COVID-19 deaths",data:Object.values(l),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(200, 0, 0, 1)",lineTension:.2,backgroundColor:"rgba(200, 0, 0, 1)"}]},k={labels:Object.keys(r),datasets:[{label:"COVID-19 cases per million",data:Object.values(c),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(255, 200, 0, 1)",lineTension:.2,backgroundColor:"rgba(255, 200, 0, 1)"},{label:"COVID-19 deaths per million",data:Object.values(u),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(200, 0, 0, 1)",lineTension:.2,backgroundColor:"rgba(200, 0, 0, 1)"}]},O={labels:Object.keys(r),datasets:[{label:"COVID-19 cumulated cases",data:Object.values(i),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(255, 200, 0, 1)",lineTension:.2,backgroundColor:"rgba(255, 200, 0, 1)"},{label:"COVID-19 deaths",data:Object.values(d),fill:!1,pointRadius:1.7,pointHitRadius:10,borderColor:"rgba(200, 0, 0, 1)",lineTension:.2,backgroundColor:"rgba(200, 0, 0, 1)"}]},j={scales:{yAxes:[{type:"logarithmic"}]}},T=e.getCasesStartingNDaysAgoDuringMDays(2+t,3),M=T>e.getCasesStartingNDaysAgoDuringMDays(5+t,3)?o.a.createElement("img",{className:"evolution-arrow",src:"images/arrow-red-up.png",title:"Higher than the 3 previous days"}):o.a.createElement("img",{className:"evolution-arrow",src:"images/arrow-green-down.png",title:"Lower than the previous 3 days"}),R=e.getDeathsStartingNDaysAgoDuringMDays(2+t,3),A=R>e.getDeathsStartingNDaysAgoDuringMDays(5+t,3)?o.a.createElement("img",{className:"evolution-arrow",src:"images/arrow-red-up.png",title:"Higher than the 3 previous days"}):o.a.createElement("img",{className:"evolution-arrow",src:"images/arrow-green-down.png",title:"Lower than the previous 3 days"}),x=e.getCrudeDeathsPerDay(),U=null;x&&(U=o.a.createElement("div",{className:"crude-deaths-info"},"\u2139\ufe0f For comparison, in 2017, ",o.a.createElement("span",{style:{textTransform:"capitalize",fontWeight:800}},e.name)," was counting an average of ",o.a.createElement("span",{style:{fontWeight:800}},x)," deaths per day ",o.a.createElement("a",{style:{color:"#67abf3",textDecoration:"none"},href:"https://www.cia.gov/library/publications/the-world-factbook/rankorder/2066rank.html"},"[source]")));var I=h.getCountry("world"),P=e.getCasesStartingNDaysAgoDuringMDays(t,1),H=e.getDeathsStartingNDaysAgoDuringMDays(t,1);I.getCasesStartingNDaysAgoDuringMDays(t,1),I.getDeathsStartingNDaysAgoDuringMDays(t,1);return o.a.createElement("div",{className:"dashboard-world"},o.a.createElement("div",{className:"country-name"},o.a.createElement("img",{className:"flag",src:"images/flags/".concat("world",".svg")}),o.a.createElement("h1",null,e.name)),D,o.a.createElement("div",{className:"info-grid"},o.a.createElement("div",{className:"cell"},o.a.createElement("div",{className:"cell-inner",style:{float:"right"}},o.a.createElement("p",null,o.a.createElement("span",{className:"cell-title",style:{color:"#ffc800"}},"# cases")),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"all time"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},e.getCases()),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-raise"},"+",e.getCasesLastDayRaise(),"% in the last day")),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"all time per million"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},~~(100*e.getCasesPerMillion())/100)),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"in the last day"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},P)),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"in the last 3 days"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},T),M),o.a.createElement("p",{className:"cell-section pie-section"},o.a.createElement("span",{className:"cell-subtitle"},"total per country"),o.a.createElement("br",null),o.a.createElement(N.b,{data:v,options:y,width:100,height:100})),o.a.createElement("p",{className:"cell-section pie-section"},o.a.createElement("span",{className:"cell-subtitle"},"last 3 days per country"),o.a.createElement("br",null),o.a.createElement(N.b,{data:f,options:y,width:100,height:100})))),o.a.createElement("div",{className:"cell"},o.a.createElement("div",{className:"cell-inner",style:{float:"left"}},o.a.createElement("p",null,o.a.createElement("span",{className:"cell-title",style:{color:"#c80000"}},"# deaths")),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"all time"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},e.getDeaths()),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-raise"},"+",e.getDeathsLastDayRaise(),"% in the last day")),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"all time per million"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},~~(100*e.getDeathsPerMillion())/100)),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"in the last day"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},H)),o.a.createElement("p",{className:"cell-section"},o.a.createElement("span",{className:"cell-subtitle"},"in the last 3 days"),o.a.createElement("br",null),o.a.createElement("span",{className:"cell-score"},R),A),o.a.createElement("p",{className:"cell-section pie-section"},o.a.createElement("span",{className:"cell-subtitle"},"total per country"),o.a.createElement("br",null),o.a.createElement(N.b,{data:C,options:y,width:100,height:100})),o.a.createElement("p",{className:"cell-section pie-section"},o.a.createElement("span",{className:"cell-subtitle"},"last 3 days per country"),o.a.createElement("br",null),o.a.createElement(N.b,{data:E,options:y,width:100,height:100}))))),U,o.a.createElement("div",{className:"plot-title"},"COVID-19 cases and deaths over time (linear scale)"),o.a.createElement(N.a,{data:S,options:{},height:100}),o.a.createElement("div",{className:"plot-title"},"COVID-19 cumulated cases and deaths over time (logarithmic scale)"),o.a.createElement(N.a,{data:w,options:j,height:100}),o.a.createElement("div",{className:"plot-title"},"COVID-19 cases and deaths over time per million population (linear scale)"),o.a.createElement(N.a,{data:k,options:{},height:100}),o.a.createElement("div",{className:"plot-title"},"COVID-19 cumulated cases and deaths over time per milion population (logarithmic scale)"),o.a.createElement(N.a,{data:O,options:j,height:100}),o.a.createElement("div",{className:"credits"},o.a.createElement("p",null,"Data from the ",o.a.createElement("a",{href:"https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide"},"European Centre for Disease Prevention and Control")),o.a.createElement("p",null,"\u2014 Made by ",o.a.createElement("a",{href:"https://twitter.com/jonathanlurie"},"@jonathanlurie")," :: ",o.a.createElement("a",{href:"https://github.com/jonathanlurie/covid19dashboard"},"fork me on GitHub")," \u2014")))}}]),a}(o.a.Component),k=(t(168),function(e){function a(e){var t;return Object(u.a)(this,a),(t=Object(C.a)(this,Object(E.a)(a).call(this,e))).state={countrySearch:""},t.fullCountryList=h.getAllCountries(),t}return Object(D.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this,a=this.fullCountryList;""!==this.state.countrySearch&&(a=a.filter((function(a){return a.name.includes(e.state.countrySearch)})));var t=a.map((function(e){var a="images/flags/".concat(e.code,".svg");return o.a.createElement("li",{key:e.code},o.a.createElement("img",{className:"flag",src:a}),o.a.createElement("span",{className:"country-name"},o.a.createElement(v.b,{to:e.code},e.name)))}));return o.a.createElement("div",{className:"country-list"},o.a.createElement("div",{className:"title"},o.a.createElement(v.b,{to:""},"COVID-19",o.a.createElement("br",null),"dashboard")),o.a.createElement("div",{className:"container"},o.a.createElement("input",{className:"searchbar",placeholder:"Type a country...",onChange:function(a){e.setState({countrySearch:a.target.value.toLowerCase()})}}),o.a.createElement("ul",null,t)))}}]),a}(o.a.Component)),O=(t(171),function(e){function a(e){var t;return Object(u.a)(this,a),(t=Object(C.a)(this,Object(E.a)(a).call(this,e))).state={},t}return Object(D.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props.match.params.countryCode;if(!e)return o.a.createElement(f.a,{to:p.defaultCountryCode});h.hasCountry(e)||alert("There is no data for this country.");var a="world"===e?o.a.createElement(w,null):o.a.createElement(S,{countryCode:e});return o.a.createElement("div",{className:"main"},o.a.createElement(k,null),a)}}]),a}(o.a.Component));function j(){return o.a.createElement(v.a,null,o.a.createElement(f.d,null,o.a.createElement(f.b,{path:"/:countryCode",component:O}),o.a.createElement(f.b,{path:"/",component:O})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(){return(T=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loading data..."),e.next=3,y();case 3:console.log("done loading data"),i.a.render(o.a.createElement(j,null),document.getElementById("root"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){T.apply(this,arguments)}()},65:function(e,a,t){e.exports=t(172)},71:function(e,a,t){}},[[65,1,2]]]);
//# sourceMappingURL=main.35ba0539.chunk.js.map